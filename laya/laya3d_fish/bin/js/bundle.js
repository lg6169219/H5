var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _game_app = require("./scripts/game/game_app");

var _game_app2 = _interopRequireDefault(_game_app);

var _UI_Button = require("./scripts/utils/UI_Button");

var _UI_Button2 = _interopRequireDefault(_UI_Button);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
    function GameConfig() {
        _classCallCheck(this, GameConfig);
    }

    _createClass(GameConfig, null, [{
        key: "init",
        value: function init() {
            //注册Script或者Runtime引用
            var reg = Laya.ClassUtils.regClass;
            reg("scripts/game/game_app.js", _game_app2.default);
            reg("scripts/utils/UI_Button.js", _UI_Button2.default);
        }
    }]);

    return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 960;
GameConfig.height = 640;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "fisher.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./scripts/game/game_app":6,"./scripts/utils/UI_Button":14}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _UI_ctrl2 = require("../../managers/UI_ctrl");

var _UI_ctrl3 = _interopRequireDefault(_UI_ctrl2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ChooseUI_ctrl = function (_UI_ctrl) {
    _inherits(ChooseUI_ctrl, _UI_ctrl);

    function ChooseUI_ctrl() {
        _classCallCheck(this, ChooseUI_ctrl);

        return _possibleConstructorReturn(this, (ChooseUI_ctrl.__proto__ || Object.getPrototypeOf(ChooseUI_ctrl)).call(this));
    }

    _createClass(ChooseUI_ctrl, [{
        key: "onAwake",
        value: function onAwake() {
            _get(ChooseUI_ctrl.prototype.__proto__ || Object.getPrototypeOf(ChooseUI_ctrl.prototype), "onAwake", this).call(this);
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }]);

    return ChooseUI_ctrl;
}(_UI_ctrl3.default);

exports.default = ChooseUI_ctrl;

},{"../../managers/UI_ctrl":8}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _UI_ctrl2 = require("../../managers/UI_ctrl");

var _UI_ctrl3 = _interopRequireDefault(_UI_ctrl2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var LoginUI_ctrl = function (_UI_ctrl) {
    _inherits(LoginUI_ctrl, _UI_ctrl);

    function LoginUI_ctrl() {
        _classCallCheck(this, LoginUI_ctrl);

        return _possibleConstructorReturn(this, (LoginUI_ctrl.__proto__ || Object.getPrototypeOf(LoginUI_ctrl)).call(this));
    }

    _createClass(LoginUI_ctrl, [{
        key: "onAwake",
        value: function onAwake() {
            _get(LoginUI_ctrl.prototype.__proto__ || Object.getPrototypeOf(LoginUI_ctrl.prototype), "onAwake", this).call(this);

            console.log("=======sss", this.view["center/img_logo"]);

            this.view["btn_start"].on(Laya.Event.CLICK, this, this.on_start_click);
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }, {
        key: "on_start_click",
        value: function on_start_click() {
            console.log("=======on_start_click");
        }
    }]);

    return LoginUI_ctrl;
}(_UI_ctrl3.default);

exports.default = LoginUI_ctrl;

},{"../../managers/UI_ctrl":8}],5:[function(require,module,exports){
"use strict";

var _UI_ctrl = require("../../managers/UI_ctrl");

var _UI_ctrl2 = _interopRequireDefault(_UI_ctrl);

var _LoginUI_ctrl = require("./LoginUI_ctrl");

var _LoginUI_ctrl2 = _interopRequireDefault(_LoginUI_ctrl);

var _ChooseUI_ctrl = require("./ChooseUI_ctrl");

var _ChooseUI_ctrl2 = _interopRequireDefault(_ChooseUI_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Laya.ClassUtils.regClass("UI_ctrl", _UI_ctrl2.default);
Laya.ClassUtils.regClass("LoginUI_ctrl", _LoginUI_ctrl2.default);
Laya.ClassUtils.regClass("ChooseUI_ctrl", _ChooseUI_ctrl2.default);

},{"../../managers/UI_ctrl":8,"./ChooseUI_ctrl":3,"./LoginUI_ctrl":4}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _game_mgr2 = require("../managers/game_mgr");

var _game_mgr3 = _interopRequireDefault(_game_mgr2);

var _UI_manager = require("../managers/UI_manager");

var _UI_manager2 = _interopRequireDefault(_UI_manager);

var _res_mgr = require("../managers/res_mgr");

var _res_mgr2 = _interopRequireDefault(_res_mgr);

var _event_mgr = require("../managers/event_mgr");

var _event_mgr2 = _interopRequireDefault(_event_mgr);

var _event_define = require("../global/event_define");

var _event_define2 = _interopRequireDefault(_event_define);

var _scene_mgr = require("../managers/scene_mgr");

var _scene_mgr2 = _interopRequireDefault(_scene_mgr);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

require("./UI_ctrls/UI_ctrl_class_reg");

var game_app = function (_game_mgr) {
    _inherits(game_app, _game_mgr);

    function game_app() {
        _classCallCheck(this, game_app);

        /** @prop {name:intType, tips:"整数类型示例", type:Int, default:1000}*/
        var _this = _possibleConstructorReturn(this, (game_app.__proto__ || Object.getPrototypeOf(game_app)).call(this));

        var intType = 1000;
        /** @prop {name:numType, tips:"数字类型示例", type:Number, default:1000}*/
        var numType = 1000;
        /** @prop {name:strType, tips:"字符串类型示例", type:String, default:"hello laya"}*/
        var strType = "hello laya";
        /** @prop {name:boolType, tips:"布尔类型示例", type:Bool, default:true}*/
        var boolType = true;
        // 更多参数说明请访问: https://ldc2.layabox.com/doc/?nav=zh-as-2-4-0
        return _this;
    }

    _createClass(game_app, [{
        key: "onAwake",
        value: function onAwake() {
            _get(game_app.prototype.__proto__ || Object.getPrototypeOf(game_app.prototype), "onAwake", this).call(this);
        }
    }, {
        key: "onStart",
        value: function onStart() {
            _res_mgr2.default.instance().preload_res_pkg({
                prefabs: ["res/ui_prefabs/LoginUI.json", "res/ui_prefabs/ChooseUI.json"],
                scene3D: ["res/LayaScene_game_scene/Conventional/game_scene.ls"]
            }, null, function () {
                _UI_manager2.default.instance().show_ui("ChooseUI");
                // scene_mgr.instance().create_scene("game_scene");

                console.log("========1111", _event_define2.default.UPDATE_GAME_MONEY);

                //     // 自己写的event listener测试代码
                //     // event_mgr.instance().add_listener("test", this, this.on_test_event_self);
                //     // event_mgr.instance().dispatch_event("test", 6666);

                //     // 基于laya的event listener测试代码
                //     event_mgr.instance().add_listener(event_define.UPDATE_GAME_MONEY, this, this.on_test_event_laya);

                //     event_mgr.instance().dispatch_event(event_define.UPDATE_GAME_MONEY, 123456);
            }.bind(this));
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}

        // 自己写的event listener测试代码

    }, {
        key: "on_test_event_self",
        value: function on_test_event_self(event_name, udata) {
            console.log("on_test_event", this, event_name, udata);
            _event_mgr2.default.instance().remove_listener("test", this, this.on_test_event);
            _event_mgr2.default.instance().dispatch_event("test", 7777);
        }

        // 基于laya的event listener测试代码

    }, {
        key: "on_test_event_laya",
        value: function on_test_event_laya(data) {
            console.log("on_test_event_laya", data);
        }
    }]);

    return game_app;
}(_game_mgr3.default);

exports.default = game_app;

},{"../global/event_define":7,"../managers/UI_manager":9,"../managers/event_mgr":10,"../managers/game_mgr":11,"../managers/res_mgr":12,"../managers/scene_mgr":13,"./UI_ctrls/UI_ctrl_class_reg":5}],7:[function(require,module,exports){
"use strict";

var event_define = {
    UPDATE_GAME_MONEY: "UPDATE_GAME_MONEY" // 更新游戏里的货币

};

module.exports = event_define;

},{}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UI_ctrl = function (_Laya$Script) {
    _inherits(UI_ctrl, _Laya$Script);

    function UI_ctrl() {
        _classCallCheck(this, UI_ctrl);

        return _possibleConstructorReturn(this, (UI_ctrl.__proto__ || Object.getPrototypeOf(UI_ctrl)).call(this));
    }

    _createClass(UI_ctrl, [{
        key: "onAwake",
        value: function onAwake() {
            this.view = {};

            this._load_all_inview(this.owner, "");

            console.log(this.view);
        }
    }, {
        key: "_load_all_inview",
        value: function _load_all_inview(root, path) {
            for (var i = 0; i < root.numChildren; i++) {
                var child = root.getChildAt(i);
                this.view[path + child.name] = child;

                this._load_all_inview(child, path + child.name + "/");
            }
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }]);

    return UI_ctrl;
}(Laya.Script);

exports.default = UI_ctrl;

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UI_manager = function (_Laya$Script) {
    _inherits(UI_manager, _Laya$Script);

    function UI_manager() {
        _classCallCheck(this, UI_manager);

        return _possibleConstructorReturn(this, (UI_manager.__proto__ || Object.getPrototypeOf(UI_manager)).call(this));
    }

    _createClass(UI_manager, [{
        key: "onAwake",
        value: function onAwake() {
            if (!UI_manager.Instance) {
                UI_manager.Instance = this;
            } else {
                console.log("=error");
            }

            this.ui_views = {};
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }, {
        key: "show_ui",
        value: function show_ui(ui_name) {
            Laya.loader.load("res/ui_prefabs/" + ui_name + ".json", Laya.Handler.create(this, function (prefab_json) {
                var prefab = new Laya.Prefab();
                prefab.json = prefab_json;

                var obj = prefab.create();
                this.owner.addChild(obj);

                var cls = Laya.ClassUtils.getClass(ui_name + "_ctrl");
                console.log("=======load ui success", ui_name);
                if (cls) {
                    obj.addComponent(cls);
                }

                this.ui_views[ui_name] = obj;
            }));
        }
    }, {
        key: "remove_ui",
        value: function remove_ui(ui_name) {
            if (this.ui_views[ui_name]) {
                this.ui_views[ui_name].removeSelf();
                this.ui_views[ui_name] = null;
            }
        }
    }], [{
        key: "instance",
        value: function instance() {
            return UI_manager.Instance;
        }
    }]);

    return UI_manager;
}(Laya.Script);

exports.default = UI_manager;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// 事件管理

var ClientEvent = {
    UPDATE_GAME_MONEY: "UPDATE_GAME_MONEY" // 更新游戏里的货币
};

var event_mgr = function (_Laya$Script) {
    _inherits(event_mgr, _Laya$Script);

    function event_mgr() {
        _classCallCheck(this, event_mgr);

        return _possibleConstructorReturn(this, (event_mgr.__proto__ || Object.getPrototypeOf(event_mgr)).call(this));
    }

    _createClass(event_mgr, [{
        key: "onAwake",
        value: function onAwake() {
            if (!event_mgr.Instance) {
                event_mgr.Instance = this;
            } else {
                console.log("error, event_mgr has multi instances");
                return;
            }
            this.events_map = {}; // "事件名字": [{caller: xxxx, func: xxx}, {}, {}]

            this.eventDispatcher = new Laya.EventDispatcher();
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}

        // ------------------------- 自己实现的event_listener
        // // 添加监听
        // // 这里找不到func或者call的话，一般是因为在回调函数里addlistener，this不对
        // add_listener(event_name, caller, func){
        //     if(!this.events_map[event_name]){
        //         this.events_map[event_name] = [];   
        //     }
        //     var handler = {caller : caller, func: func};
        //     this.events_map[event_name].push(handler);
        // }

        // // 删除监听
        // remove_listener(event_name, caller, func){
        //     if(!this.events_map[event_name]){
        //         return;
        //     }

        //     for (var i = this.events_map[event_name].length - 1; i >= 0; i--) {
        //         var handler = this.events_map[event_name][i];
        //         if (handler.caller == caller && handler.func == func) {
        //             this.events_map[event_name].splice(i, 1);
        //         }
        //     }
        // }

        // // 派发事件
        // dispatch_event(event_name, udata) {
        //     if(!this.events_map[event_name]){
        //         console.log("======= not define event: ", event_name);
        //         return;
        //     }

        //     for(var i = 0; i < this.events_map[event_name].length; i++){
        //         var handler = this.events_map[event_name][i];
        //         console.log("========handler", handler);
        //         handler.func.call(handler.caller, event_name, udata);
        //     }
        // }

        // ------------------------- 基于laya Laya.EventDispatcher实现的event_listener

        // 监听事件

    }, {
        key: "add_listener",
        value: function add_listener(event_id, caller, listener_func, data) {
            this.eventDispatcher.on(event_id, caller, listener_func, data);
        }

        // 监听事件，事件响应一次后自动移除

    }, {
        key: "add_listener_once",
        value: function add_listener_once(event_id, caller, listener_func, data) {
            this.eventDispatcher.once(event_id, caller, listener_func, data);
        }

        // onceOnly	（可选）如果值为 true ,则只移除通过 once 方法添加的侦听器

    }, {
        key: "remove_listener",
        value: function remove_listener(event_id, caller, listener_func) {
            var onceOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

            this.eventDispatcher.off(event_id, caller, listener_func, onceOnly);
        }

        // 派发事件

    }, {
        key: "dispatch_event",
        value: function dispatch_event(event_id, data) {
            console.log("=========eve", event_id, data);
            this.eventDispatcher.event(event_id, data);
        }
    }], [{
        key: "instance",
        value: function instance() {
            return event_mgr.Instance;
        }
    }]);

    return event_mgr;
}(Laya.Script);

exports.default = event_mgr;

},{}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _UI_manager = require("./UI_manager");

var _UI_manager2 = _interopRequireDefault(_UI_manager);

var _res_mgr = require("./res_mgr");

var _res_mgr2 = _interopRequireDefault(_res_mgr);

var _event_mgr = require("./event_mgr");

var _event_mgr2 = _interopRequireDefault(_event_mgr);

var _scene_mgr = require("./scene_mgr");

var _scene_mgr2 = _interopRequireDefault(_scene_mgr);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var game_mgr = function (_Laya$Script) {
    _inherits(game_mgr, _Laya$Script);

    function game_mgr() {
        _classCallCheck(this, game_mgr);

        return _possibleConstructorReturn(this, (game_mgr.__proto__ || Object.getPrototypeOf(game_mgr)).call(this));
    }

    _createClass(game_mgr, [{
        key: "onAwake",
        value: function onAwake() {
            console.log("start init game_mgr");
            this.owner.addComponent(_event_mgr2.default);
            this.owner.addComponent(_res_mgr2.default);
            this.owner.addComponent(_scene_mgr2.default);
            this.owner.addComponent(_UI_manager2.default);
            console.log("game_mgr init success");
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }]);

    return game_mgr;
}(Laya.Script);

exports.default = game_mgr;

},{"./UI_manager":9,"./event_mgr":10,"./res_mgr":12,"./scene_mgr":13}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var res_mgr = function (_Laya$Script) {
    _inherits(res_mgr, _Laya$Script);

    function res_mgr() {
        _classCallCheck(this, res_mgr);

        return _possibleConstructorReturn(this, (res_mgr.__proto__ || Object.getPrototypeOf(res_mgr)).call(this));
    }

    _createClass(res_mgr, [{
        key: "onAwake",
        value: function onAwake() {
            if (!res_mgr.Instance) {
                res_mgr.Instance = this;
            }
            this.prefabs_res = {};
            this.scene3D_res = {};
            this.sprite3D_res = {};
        }

        // res_set: {prefabs: [], scene3D: [], sprite3D:[], atlas: [], imgs: []}
        // on_progress(per)
        // on_load_finished

    }, {
        key: "preload_res_pkg",
        value: function preload_res_pkg(res_pkg, on_progress, on_load_finished) {
            var i = 0;
            var url = "";

            this.on_progress = on_progress;
            this.on_load_finished = on_load_finished;

            this.total_num = 0;
            for (var key in res_pkg) {
                this.total_num += res_pkg[key].length;
            }

            this.now_num = 0;
            if (res_pkg.prefabs) {
                for (i = 0; i < res_pkg.prefabs.length; i++) {
                    url = res_pkg.prefabs[i];
                    this.load_prefab(url);
                }
            }

            if (res_pkg.scene3D) {
                for (i = 0; i < res_pkg.scene3D.length; i++) {
                    url = res_pkg.scene3D[i];
                    this.load_scene3D(url);
                }
            }

            if (res_pkg.sprite3D) {
                for (i = 0; i < res_pkg.sprite3D.length; i++) {
                    url = res_pkg.sprite3D[i];
                    this.load_sprite3D(url);
                }
            }
        }

        // 释放

    }, {
        key: "reloase_res_pkg",
        value: function reloase_res_pkg(res_pkg) {
            var i = 0;
            var url = "";

            if (res_pkg.prefabs) {
                for (i = 0; i < res_pkg.prefabs.length; i++) {
                    url = res_pkg.prefabs[i];
                    this.release_prefab(url);
                }
            }

            if (res_pkg.scene3D) {
                for (i = 0; i < res_pkg.scene3D.length; i++) {
                    url = res_pkg.scene3D[i];
                    this.release_scene3D(url);
                }
            }

            if (res_pkg.sprite3D) {
                for (i = 0; i < res_pkg.sprite3D.length; i++) {
                    url = res_pkg.sprite3D[i];
                    this.release_sprite3D(url);
                }
            }
        }
    }, {
        key: "_one_res_load_finished",
        value: function _one_res_load_finished() {
            this.now_num++;
            if (this.on_progress) {
                this.on_progress(this.now_num / this.total_num);
            }

            if (this.now_num >= this.total_num && this.on_load_finished) {
                this.on_load_finished();
            }
        }
    }, {
        key: "load_prefab",
        value: function load_prefab(url) {
            Laya.loader.load(url, Laya.Handler.create(this, function (json) {
                var prefab = new Laya.Prefab();
                prefab.json = json;
                this.prefabs_res[url] = prefab;

                this._one_res_load_finished();
            }));
        }
    }, {
        key: "release_prefab",
        value: function release_prefab(url) {
            if (!this.prefabs_res[url]) {
                return;
            }

            this.prefabs_res[url].json = null;
            this.prefabs_res[url] = null;
            Laya.loader.clearRes(url);
        }
    }, {
        key: "load_scene3D",
        value: function load_scene3D(url) {
            Laya.Scene3D.load(url, Laya.Handler.create(this, function (scene3d) {
                this.scene3D_res[url] = scene3d;

                this._one_res_load_finished();
            }));
        }
    }, {
        key: "release_scene3D",
        value: function release_scene3D(url) {
            if (!this.scene3D_res[url]) {
                return;
            }

            this.scene3D_res[url] = null;
            Laya.loader.clearRes(url);
        }
    }, {
        key: "load_sprite3D",
        value: function load_sprite3D(url) {
            Laya.Sprite3D.load(url, Laya.Handler.create(this, function (sprite3d) {
                this.sprite3D_res[url] = sprite3d;

                this._one_res_load_finished();
            }));
        }
    }, {
        key: "release_sprite3D",
        value: function release_sprite3D(url) {
            if (!this.sprite3D_res[url]) {
                return;
            }

            this.sprite3D_res[url] = null;
            Laya.loader.clearRes(url);
        }
    }, {
        key: "get_prefab_res",
        value: function get_prefab_res(url) {
            return this.prefabs_res[url];
        }
    }, {
        key: "get_scens3d_res",
        value: function get_scens3d_res(url) {
            return this.scene3D_res[url];
        }
    }, {
        key: "get_sprite3D_res",
        value: function get_sprite3D_res(url) {
            return this.sprite3D_res[url];
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }], [{
        key: "instance",
        value: function instance() {
            return res_mgr.Instance;
        }
    }]);

    return res_mgr;
}(Laya.Script);

exports.default = res_mgr;

},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _res_mgr = require("../managers/res_mgr");

var _res_mgr2 = _interopRequireDefault(_res_mgr);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var scene_mgr = function (_Laya$Script) {
    _inherits(scene_mgr, _Laya$Script);

    function scene_mgr() {
        _classCallCheck(this, scene_mgr);

        var _this = _possibleConstructorReturn(this, (scene_mgr.__proto__ || Object.getPrototypeOf(scene_mgr)).call(this));

        _this.scene_dir = "res/LayaScene_game_scene/Conventional/";
        return _this;
    }

    _createClass(scene_mgr, [{
        key: "onAwake",
        value: function onAwake() {
            scene_mgr.Instance = this;
        }
    }, {
        key: "onStart",
        value: function onStart() {}
        /**创建一个场景的流程
         * 1.加载场景资源
         * 2.资源加载完成后创建场景
         * 3.对创建后的场景做个性化处理
         * 4.将场景加入舞台
         */

    }, {
        key: "load_scene_res",
        value: function load_scene_res(scene_name, callback) {
            _res_mgr2.default.instance().preload_res_pkg({
                prefabs: [],
                scene3D: ["res/LayaScene_game_scene/Conventional/" + scene_name + ".ls"]
            }, null, function () {
                if (callback) {
                    callback.call(this);
                }
            }.bind(this));
        }
    }, {
        key: "create_scene",
        value: function create_scene(scene_name) {
            if (this.curr_scene) {
                this.curr_scene = null;
                // 这里要卸载老的场景
            }

            var scene3d = _res_mgr2.default.instance().get_scens3d_res("res/LayaScene_game_scene/Conventional/" + scene_name + ".ls");
            Laya.stage.addChild(scene3d);
            scene3d.zOrder = -1;
            this.curr_scene = scene3d;

            return scene3d;
        }
    }], [{
        key: "instance",
        value: function instance() {
            return scene_mgr.Instance;
        }
    }]);

    return scene_mgr;
}(Laya.Script);

exports.default = scene_mgr;

},{"../managers/res_mgr":12}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var UI_Button = function (_Laya$Script) {
    _inherits(UI_Button, _Laya$Script);

    /** @prop {name:normal_img, tips:"按钮弹起状态", accept:res, default:null}*/
    /** @prop {name:press_img, tips:"按钮按下状态", accept:res, default:null}*/
    /** @prop {name:disable_img, tips:"按钮禁用状态", accept:res, default:null}*/
    /** @prop {name:is_disable, tips:"是否被禁用", type:Bool, default:false}*/

    function UI_Button() {
        _classCallCheck(this, UI_Button);

        var _this = _possibleConstructorReturn(this, (UI_Button.__proto__ || Object.getPrototypeOf(UI_Button)).call(this));

        _this.normal_img = null;
        _this.press_img = null;
        _this.disable_img = null;
        return _this;
    }

    _createClass(UI_Button, [{
        key: "onAwake",
        value: function onAwake() {
            this.set_disable(this.is_disable);
        }
    }, {
        key: "onEnable",
        value: function onEnable() {}
    }, {
        key: "onDisable",
        value: function onDisable() {}
    }, {
        key: "onMouseDown",
        value: function onMouseDown() {
            if (this.is_disable) {
                return;
            }
            if (this.press_img !== null) {
                this.owner.skin = this.press_img;
            }
        }
    }, {
        key: "onMouseUp",
        value: function onMouseUp() {
            if (this.is_disable) {
                return;
            }
            if (this.normal_img !== null) {
                this.owner.skin = this.normal_img;
            }
        }
    }, {
        key: "set_disable",
        value: function set_disable(is_disable) {
            if (this.is_disable == is_disable) {
                return;
            }

            this.is_disable = is_disable;

            if (this.is_disable && this.disable_img !== null) {
                this.owner.skin = this.disable_img;
            } else {
                if (this.normal_img !== null) {
                    this.owner.skin = this.normal_img;
                }
            }
        }
    }]);

    return UI_Button;
}(Laya.Script);

exports.default = UI_Button;

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L2xheWFhaXIvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcuanMiLCJzcmMvTWFpbi5qcyIsInNyYy9zY3JpcHRzL2dhbWUvVUlfY3RybHMvQ2hvb3NlVUlfY3RybC5qcyIsInNyYy9zY3JpcHRzL2dhbWUvVUlfY3RybHMvTG9naW5VSV9jdHJsLmpzIiwic3JjL3NjcmlwdHMvZ2FtZS9VSV9jdHJscy9VSV9jdHJsX2NsYXNzX3JlZy5qcyIsInNyYy9zY3JpcHRzL2dhbWUvZ2FtZV9hcHAuanMiLCJzcmMvc2NyaXB0cy9nbG9iYWwvZXZlbnRfZGVmaW5lLmpzIiwic3JjL3NjcmlwdHMvbWFuYWdlcnMvVUlfY3RybC5qcyIsInNyYy9zY3JpcHRzL21hbmFnZXJzL1VJX21hbmFnZXIuanMiLCJzcmMvc2NyaXB0cy9tYW5hZ2Vycy9ldmVudF9tZ3IuanMiLCJzcmMvc2NyaXB0cy9tYW5hZ2Vycy9nYW1lX21nci5qcyIsInNyYy9zY3JpcHRzL21hbmFnZXJzL3Jlc19tZ3IuanMiLCJzcmMvc2NyaXB0cy9tYW5hZ2Vycy9zY2VuZV9tZ3IuanMiLCJzcmMvc2NyaXB0cy91dGlscy9VSV9CdXR0b24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztxakJDVkE7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRXFCLFU7Ozs7Ozs7K0JBQ0g7QUFDVjtBQUNBLGdCQUFJLE1BQU0sS0FBSyxVQUFMLENBQWdCLFFBQTFCO0FBQ04sZ0JBQUksMEJBQUosRUFBK0Isa0JBQS9CO0FBQ0EsZ0JBQUksNEJBQUosRUFBaUMsbUJBQWpDO0FBQ0c7Ozs7OztrQkFOZ0IsVTs7QUFRckIsV0FBVyxLQUFYLEdBQW1CLEdBQW5CO0FBQ0EsV0FBVyxNQUFYLEdBQW9CLEdBQXBCO0FBQ0EsV0FBVyxTQUFY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RGtDLEtBQUssTTs7a0JBQXZCLFMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBnYW1lX2FwcCBmcm9tIFwiLi9zY3JpcHRzL2dhbWUvZ2FtZV9hcHBcIlxuaW1wb3J0IFVJX0J1dHRvbiBmcm9tIFwiLi9zY3JpcHRzL3V0aWxzL1VJX0J1dHRvblwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlnIHtcclxuICAgIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIC8v5rOo5YaMU2NyaXB05oiW6ICFUnVudGltZeW8leeUqFxyXG4gICAgICAgIGxldCByZWcgPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcblx0XHRyZWcoXCJzY3JpcHRzL2dhbWUvZ2FtZV9hcHAuanNcIixnYW1lX2FwcCk7XG5cdFx0cmVnKFwic2NyaXB0cy91dGlscy9VSV9CdXR0b24uanNcIixVSV9CdXR0b24pO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcud2lkdGggPSA5NjA7XHJcbkdhbWVDb25maWcuaGVpZ2h0ID0gNjQwO1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJmaXhlZHdpZHRoXCI7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwibm9uZVwiO1xyXG5HYW1lQ29uZmlnLmFsaWduViA9IFwidG9wXCI7XHJcbkdhbWVDb25maWcuYWxpZ25IID0gXCJsZWZ0XCI7XHJcbkdhbWVDb25maWcuc3RhcnRTY2VuZSA9IFwiZmlzaGVyLnNjZW5lXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnN0YXQgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbiA9IHRydWU7XHJcblxyXG5HYW1lQ29uZmlnLmluaXQoKTtcclxuIiwi77u/aW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdExheWEuc3RhZ2UuYWxpZ25WID0gR2FtZUNvbmZpZy5hbGlnblY7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduSCA9IEdhbWVDb25maWcuYWxpZ25IO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKSB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgVUlfY3RybCBmcm9tIFwiLi4vLi4vbWFuYWdlcnMvVUlfY3RybFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hvb3NlVUlfY3RybCBleHRlbmRzIFVJX2N0cmwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHN1cGVyLm9uQXdha2UoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFVJX2N0cmwgZnJvbSBcIi4uLy4uL21hbmFnZXJzL1VJX2N0cmxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luVUlfY3RybCBleHRlbmRzIFVJX2N0cmwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHN1cGVyLm9uQXdha2UoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09c3NzXCIsIHRoaXMudmlld1tcImNlbnRlci9pbWdfbG9nb1wiXSk7XHJcblxyXG4gICAgICAgIHRoaXMudmlld1tcImJ0bl9zdGFydFwiXS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uX3N0YXJ0X2NsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgb25fc3RhcnRfY2xpY2soKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT1vbl9zdGFydF9jbGlja1wiKTtcclxuICAgIH1cclxufSIsImltcG9ydCBVSV9jdHJsIGZyb20gXCIuLi8uLi9tYW5hZ2Vycy9VSV9jdHJsXCI7XHJcbmltcG9ydCBMb2dpblVJX2N0cmwgZnJvbSBcIi4vTG9naW5VSV9jdHJsXCI7XHJcbmltcG9ydCBDaG9vc2VVSV9jdHJsIGZyb20gXCIuL0Nob29zZVVJX2N0cmxcIjtcclxuXHJcbkxheWEuQ2xhc3NVdGlscy5yZWdDbGFzcyhcIlVJX2N0cmxcIiwgVUlfY3RybCk7XHJcbkxheWEuQ2xhc3NVdGlscy5yZWdDbGFzcyhcIkxvZ2luVUlfY3RybFwiLCBMb2dpblVJX2N0cmwpO1xyXG5MYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3MoXCJDaG9vc2VVSV9jdHJsXCIsIENob29zZVVJX2N0cmwpOyIsInJlcXVpcmUoXCIuL1VJX2N0cmxzL1VJX2N0cmxfY2xhc3NfcmVnXCIpO1xyXG5cclxuaW1wb3J0IGdhbWVfbWdyIGZyb20gXCIuLi9tYW5hZ2Vycy9nYW1lX21nclwiO1xyXG5pbXBvcnQgVUlfbWFuYWdlciBmcm9tIFwiLi4vbWFuYWdlcnMvVUlfbWFuYWdlclwiO1xyXG5pbXBvcnQgcmVzX21nciBmcm9tIFwiLi4vbWFuYWdlcnMvcmVzX21nclwiO1xyXG5pbXBvcnQgZXZlbnRfbWdyIGZyb20gXCIuLi9tYW5hZ2Vycy9ldmVudF9tZ3JcIjtcclxuaW1wb3J0IGV2ZW50X2RlZmluZSBmcm9tIFwiLi4vZ2xvYmFsL2V2ZW50X2RlZmluZVwiO1xyXG5pbXBvcnQgc2NlbmVfbWdyIGZyb20gXCIuLi9tYW5hZ2Vycy9zY2VuZV9tZ3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGdhbWVfYXBwIGV4dGVuZHMgZ2FtZV9tZ3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgLyoqIEBwcm9wIHtuYW1lOmludFR5cGUsIHRpcHM6XCLmlbTmlbDnsbvlnovnpLrkvotcIiwgdHlwZTpJbnQsIGRlZmF1bHQ6MTAwMH0qL1xyXG4gICAgICAgIGxldCBpbnRUeXBlID0gMTAwMDtcclxuICAgICAgICAvKiogQHByb3Age25hbWU6bnVtVHlwZSwgdGlwczpcIuaVsOWtl+exu+Wei+ekuuS+i1wiLCB0eXBlOk51bWJlciwgZGVmYXVsdDoxMDAwfSovXHJcbiAgICAgICAgbGV0IG51bVR5cGUgPSAxMDAwO1xyXG4gICAgICAgIC8qKiBAcHJvcCB7bmFtZTpzdHJUeXBlLCB0aXBzOlwi5a2X56ym5Liy57G75Z6L56S65L6LXCIsIHR5cGU6U3RyaW5nLCBkZWZhdWx0OlwiaGVsbG8gbGF5YVwifSovXHJcbiAgICAgICAgbGV0IHN0clR5cGUgPSBcImhlbGxvIGxheWFcIjtcclxuICAgICAgICAvKiogQHByb3Age25hbWU6Ym9vbFR5cGUsIHRpcHM6XCLluIPlsJTnsbvlnovnpLrkvotcIiwgdHlwZTpCb29sLCBkZWZhdWx0OnRydWV9Ki9cclxuICAgICAgICBsZXQgYm9vbFR5cGUgPSB0cnVlO1xyXG4gICAgICAgIC8vIOabtOWkmuWPguaVsOivtOaYjuivt+iuv+mXrjogaHR0cHM6Ly9sZGMyLmxheWFib3guY29tL2RvYy8/bmF2PXpoLWFzLTItNC0wXHJcbiAgICB9XHJcbiAgICBvbkF3YWtlKCkge1xyXG4gICAgICAgIHN1cGVyLm9uQXdha2UoKTtcclxuICAgIH1cclxuICAgIG9uU3RhcnQoKXtcclxuICAgICAgICByZXNfbWdyLmluc3RhbmNlKCkucHJlbG9hZF9yZXNfcGtnKHtcclxuICAgICAgICAgICAgcHJlZmFiczogW1xyXG4gICAgICAgICAgICAgICAgXCJyZXMvdWlfcHJlZmFicy9Mb2dpblVJLmpzb25cIixcclxuICAgICAgICAgICAgICAgIFwicmVzL3VpX3ByZWZhYnMvQ2hvb3NlVUkuanNvblwiLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzY2VuZTNEOiBbXHJcbiAgICAgICAgICAgICAgICBcInJlcy9MYXlhU2NlbmVfZ2FtZV9zY2VuZS9Db252ZW50aW9uYWwvZ2FtZV9zY2VuZS5sc1wiLFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSwgbnVsbCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFVJX21hbmFnZXIuaW5zdGFuY2UoKS5zaG93X3VpKFwiQ2hvb3NlVUlcIik7XHJcbiAgICAgICAgICAgIC8vIHNjZW5lX21nci5pbnN0YW5jZSgpLmNyZWF0ZV9zY2VuZShcImdhbWVfc2NlbmVcIik7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09MTExMVwiLCBldmVudF9kZWZpbmUuVVBEQVRFX0dBTUVfTU9ORVkpO1xyXG5cclxuICAgICAgICAvLyAgICAgLy8g6Ieq5bex5YaZ55qEZXZlbnQgbGlzdGVuZXLmtYvor5Xku6PnoIFcclxuICAgICAgICAvLyAgICAgLy8gZXZlbnRfbWdyLmluc3RhbmNlKCkuYWRkX2xpc3RlbmVyKFwidGVzdFwiLCB0aGlzLCB0aGlzLm9uX3Rlc3RfZXZlbnRfc2VsZik7XHJcbiAgICAgICAgLy8gICAgIC8vIGV2ZW50X21nci5pbnN0YW5jZSgpLmRpc3BhdGNoX2V2ZW50KFwidGVzdFwiLCA2NjY2KTtcclxuXHJcbiAgICAgICAgLy8gICAgIC8vIOWfuuS6jmxheWHnmoRldmVudCBsaXN0ZW5lcua1i+ivleS7o+eggVxyXG4gICAgICAgIC8vICAgICBldmVudF9tZ3IuaW5zdGFuY2UoKS5hZGRfbGlzdGVuZXIoZXZlbnRfZGVmaW5lLlVQREFURV9HQU1FX01PTkVZLCB0aGlzLCB0aGlzLm9uX3Rlc3RfZXZlbnRfbGF5YSk7XHJcblxyXG4gICAgICAgIC8vICAgICBldmVudF9tZ3IuaW5zdGFuY2UoKS5kaXNwYXRjaF9ldmVudChldmVudF9kZWZpbmUuVVBEQVRFX0dBTUVfTU9ORVksIDEyMzQ1Nik7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6Ieq5bex5YaZ55qEZXZlbnQgbGlzdGVuZXLmtYvor5Xku6PnoIFcclxuICAgIG9uX3Rlc3RfZXZlbnRfc2VsZihldmVudF9uYW1lLCB1ZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwib25fdGVzdF9ldmVudFwiLCB0aGlzLCBldmVudF9uYW1lLCB1ZGF0YSk7XHJcbiAgICAgICAgZXZlbnRfbWdyLmluc3RhbmNlKCkucmVtb3ZlX2xpc3RlbmVyKFwidGVzdFwiLCB0aGlzLCB0aGlzLm9uX3Rlc3RfZXZlbnQpO1xyXG4gICAgICAgIGV2ZW50X21nci5pbnN0YW5jZSgpLmRpc3BhdGNoX2V2ZW50KFwidGVzdFwiLCA3Nzc3KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDln7rkuo5sYXlh55qEZXZlbnQgbGlzdGVuZXLmtYvor5Xku6PnoIFcclxuICAgIG9uX3Rlc3RfZXZlbnRfbGF5YShkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJvbl90ZXN0X2V2ZW50X2xheWFcIiwgZGF0YSk7XHJcbiAgICB9XHJcbn0iLCJ2YXIgZXZlbnRfZGVmaW5lID0ge1xyXG4gICAgVVBEQVRFX0dBTUVfTU9ORVkgOiBcIlVQREFURV9HQU1FX01PTkVZXCIsIC8vIOabtOaWsOa4uOaIj+mHjOeahOi0p+W4gVxyXG5cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZXZlbnRfZGVmaW5lOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJX2N0cmwgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7IFxyXG4gICAgICAgIHN1cGVyKCk7IFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy52aWV3ID0ge307XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fbG9hZF9hbGxfaW52aWV3KHRoaXMub3duZXIsIFwiXCIpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkX2FsbF9pbnZpZXcocm9vdCwgcGF0aCl7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJvb3QubnVtQ2hpbGRyZW47IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHJvb3QuZ2V0Q2hpbGRBdChpKTtcclxuICAgICAgICAgICAgdGhpcy52aWV3W3BhdGggKyBjaGlsZC5uYW1lXSA9IGNoaWxkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fbG9hZF9hbGxfaW52aWV3KGNoaWxkLCBwYXRoICsgY2hpbGQubmFtZSArIFwiL1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlfbWFuYWdlciBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBpbnN0YW5jZSgpe1xyXG4gICAgICAgIHJldHVybiBVSV9tYW5hZ2VyLkluc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIGlmKCFVSV9tYW5hZ2VyLkluc3RhbmNlKXtcclxuICAgICAgICAgICAgVUlfbWFuYWdlci5JbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPWVycm9yXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51aV92aWV3cyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgIH1cclxuXHJcbiAgICBzaG93X3VpKHVpX25hbWUpIHtcclxuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKFwicmVzL3VpX3ByZWZhYnMvXCIgKyB1aV9uYW1lICsgXCIuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIGZ1bmN0aW9uKHByZWZhYl9qc29uKXtcclxuICAgICAgICAgICAgdmFyIHByZWZhYiA9IG5ldyBMYXlhLlByZWZhYigpO1xyXG4gICAgICAgICAgICBwcmVmYWIuanNvbiA9IHByZWZhYl9qc29uO1xyXG5cclxuICAgICAgICAgICAgdmFyIG9iaiA9IHByZWZhYi5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci5hZGRDaGlsZChvYmopO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNscyA9IExheWEuQ2xhc3NVdGlscy5nZXRDbGFzcyh1aV9uYW1lICsgXCJfY3RybFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09bG9hZCB1aSBzdWNjZXNzXCIsIHVpX25hbWUpO1xyXG4gICAgICAgICAgICBpZihjbHMpe1xyXG4gICAgICAgICAgICAgICAgb2JqLmFkZENvbXBvbmVudChjbHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVpX3ZpZXdzW3VpX25hbWVdID0gb2JqO1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlX3VpKHVpX25hbWUpe1xyXG4gICAgICAgIGlmKHRoaXMudWlfdmlld3NbdWlfbmFtZV0pe1xyXG4gICAgICAgICAgICB0aGlzLnVpX3ZpZXdzW3VpX25hbWVdLnJlbW92ZVNlbGYoKTtcclxuICAgICAgICAgICAgdGhpcy51aV92aWV3c1t1aV9uYW1lXSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy8g5LqL5Lu2566h55CGXHJcblxyXG52YXIgQ2xpZW50RXZlbnQgPSB7XHJcbiAgICBVUERBVEVfR0FNRV9NT05FWSA6IFwiVVBEQVRFX0dBTUVfTU9ORVlcIiAvLyDmm7TmlrDmuLjmiI/ph4znmoTotKfluIFcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXZlbnRfbWdyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiBldmVudF9tZ3IuSW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBvbkF3YWtlKCkge1xyXG4gICAgICAgIGlmICghZXZlbnRfbWdyLkluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGV2ZW50X21nci5JbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciwgZXZlbnRfbWdyIGhhcyBtdWx0aSBpbnN0YW5jZXNcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ldmVudHNfbWFwID0ge307IC8vIFwi5LqL5Lu25ZCN5a2XXCI6IFt7Y2FsbGVyOiB4eHh4LCBmdW5jOiB4eHh9LCB7fSwge31dXHJcblxyXG4gICAgICAgIHRoaXMuZXZlbnREaXNwYXRjaGVyID0gbmV3IExheWEuRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0g6Ieq5bex5a6e546w55qEZXZlbnRfbGlzdGVuZXJcclxuICAgIC8vIC8vIOa3u+WKoOebkeWQrFxyXG4gICAgLy8gLy8g6L+Z6YeM5om+5LiN5YiwZnVuY+aIluiAhWNhbGznmoTor53vvIzkuIDoiKzmmK/lm6DkuLrlnKjlm57osIPlh73mlbDph4xhZGRsaXN0ZW5lcu+8jHRoaXPkuI3lr7lcclxuICAgIC8vIGFkZF9saXN0ZW5lcihldmVudF9uYW1lLCBjYWxsZXIsIGZ1bmMpe1xyXG4gICAgLy8gICAgIGlmKCF0aGlzLmV2ZW50c19tYXBbZXZlbnRfbmFtZV0pe1xyXG4gICAgLy8gICAgICAgICB0aGlzLmV2ZW50c19tYXBbZXZlbnRfbmFtZV0gPSBbXTsgICBcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgdmFyIGhhbmRsZXIgPSB7Y2FsbGVyIDogY2FsbGVyLCBmdW5jOiBmdW5jfTtcclxuICAgIC8vICAgICB0aGlzLmV2ZW50c19tYXBbZXZlbnRfbmFtZV0ucHVzaChoYW5kbGVyKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvLyDliKDpmaTnm5HlkKxcclxuICAgIC8vIHJlbW92ZV9saXN0ZW5lcihldmVudF9uYW1lLCBjYWxsZXIsIGZ1bmMpe1xyXG4gICAgLy8gICAgIGlmKCF0aGlzLmV2ZW50c19tYXBbZXZlbnRfbmFtZV0pe1xyXG4gICAgLy8gICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgfVxyXG5cclxuICAgIC8vICAgICBmb3IgKHZhciBpID0gdGhpcy5ldmVudHNfbWFwW2V2ZW50X25hbWVdLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAvLyAgICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5ldmVudHNfbWFwW2V2ZW50X25hbWVdW2ldO1xyXG4gICAgLy8gICAgICAgICBpZiAoaGFuZGxlci5jYWxsZXIgPT0gY2FsbGVyICYmIGhhbmRsZXIuZnVuYyA9PSBmdW5jKSB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmV2ZW50c19tYXBbZXZlbnRfbmFtZV0uc3BsaWNlKGksIDEpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIC8vIOa0vuWPkeS6i+S7tlxyXG4gICAgLy8gZGlzcGF0Y2hfZXZlbnQoZXZlbnRfbmFtZSwgdWRhdGEpIHtcclxuICAgIC8vICAgICBpZighdGhpcy5ldmVudHNfbWFwW2V2ZW50X25hbWVdKXtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09IG5vdCBkZWZpbmUgZXZlbnQ6IFwiLCBldmVudF9uYW1lKTtcclxuICAgIC8vICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgIH1cclxuXHJcbiAgICAvLyAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuZXZlbnRzX21hcFtldmVudF9uYW1lXS5sZW5ndGg7IGkrKyl7XHJcbiAgICAvLyAgICAgICAgIHZhciBoYW5kbGVyID0gdGhpcy5ldmVudHNfbWFwW2V2ZW50X25hbWVdW2ldO1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09aGFuZGxlclwiLCBoYW5kbGVyKTtcclxuICAgIC8vICAgICAgICAgaGFuZGxlci5mdW5jLmNhbGwoaGFuZGxlci5jYWxsZXIsIGV2ZW50X25hbWUsIHVkYXRhKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSDln7rkuo5sYXlhIExheWEuRXZlbnREaXNwYXRjaGVy5a6e546w55qEZXZlbnRfbGlzdGVuZXJcclxuXHJcbiAgICAvLyDnm5HlkKzkuovku7ZcclxuICAgIGFkZF9saXN0ZW5lcihldmVudF9pZCwgY2FsbGVyLCBsaXN0ZW5lcl9mdW5jLCBkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudERpc3BhdGNoZXIub24oZXZlbnRfaWQsIGNhbGxlciwgbGlzdGVuZXJfZnVuYywgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g55uR5ZCs5LqL5Lu277yM5LqL5Lu25ZON5bqU5LiA5qyh5ZCO6Ieq5Yqo56e76ZmkXHJcbiAgICBhZGRfbGlzdGVuZXJfb25jZShldmVudF9pZCwgY2FsbGVyLCBsaXN0ZW5lcl9mdW5jLCBkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudERpc3BhdGNoZXIub25jZShldmVudF9pZCwgY2FsbGVyLCBsaXN0ZW5lcl9mdW5jLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBvbmNlT25seVx077yI5Y+v6YCJ77yJ5aaC5p6c5YC85Li6IHRydWUgLOWImeWPquenu+mZpOmAmui/hyBvbmNlIOaWueazlea3u+WKoOeahOS+puWQrOWZqFxyXG4gICAgcmVtb3ZlX2xpc3RlbmVyKGV2ZW50X2lkLCBjYWxsZXIsIGxpc3RlbmVyX2Z1bmMsIG9uY2VPbmx5ID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5vZmYoZXZlbnRfaWQsIGNhbGxlciwgbGlzdGVuZXJfZnVuYywgb25jZU9ubHkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa0vuWPkeS6i+S7tlxyXG4gICAgZGlzcGF0Y2hfZXZlbnQoZXZlbnRfaWQsIGRhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09ZXZlXCIsIGV2ZW50X2lkLCBkYXRhKTtcclxuICAgICAgICB0aGlzLmV2ZW50RGlzcGF0Y2hlci5ldmVudChldmVudF9pZCwgZGF0YSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgVUlfbWFuYWdlciBmcm9tIFwiLi9VSV9tYW5hZ2VyXCI7XHJcbmltcG9ydCByZXNfbWdyIGZyb20gXCIuL3Jlc19tZ3JcIjtcclxuaW1wb3J0IGV2ZW50X21nciBmcm9tIFwiLi9ldmVudF9tZ3JcIjtcclxuaW1wb3J0IHNjZW5lX21nciBmcm9tIFwiLi9zY2VuZV9tZ3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBnYW1lX21nciBleHRlbmRzIExheWEuU2NyaXB0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgXHJcbiAgICAgICAgc3VwZXIoKTsgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0IGluaXQgZ2FtZV9tZ3JcIik7XHJcbiAgICAgICAgdGhpcy5vd25lci5hZGRDb21wb25lbnQoZXZlbnRfbWdyKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENvbXBvbmVudChyZXNfbWdyKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENvbXBvbmVudChzY2VuZV9tZ3IpO1xyXG4gICAgICAgIHRoaXMub3duZXIuYWRkQ29tcG9uZW50KFVJX21hbmFnZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZV9tZ3IgaW5pdCBzdWNjZXNzXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHJlc19tZ3IgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiByZXNfbWdyLkluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKSB7XHJcbiAgICAgICAgaWYgKCFyZXNfbWdyLkluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHJlc19tZ3IuSW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnByZWZhYnNfcmVzID0ge307XHJcbiAgICAgICAgdGhpcy5zY2VuZTNEX3JlcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuc3ByaXRlM0RfcmVzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmVzX3NldDoge3ByZWZhYnM6IFtdLCBzY2VuZTNEOiBbXSwgc3ByaXRlM0Q6W10sIGF0bGFzOiBbXSwgaW1nczogW119XHJcbiAgICAvLyBvbl9wcm9ncmVzcyhwZXIpXHJcbiAgICAvLyBvbl9sb2FkX2ZpbmlzaGVkXHJcbiAgICBwcmVsb2FkX3Jlc19wa2cocmVzX3BrZywgb25fcHJvZ3Jlc3MsIG9uX2xvYWRfZmluaXNoZWQpIHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IHVybCA9IFwiXCI7XHJcblxyXG4gICAgICAgIHRoaXMub25fcHJvZ3Jlc3MgPSBvbl9wcm9ncmVzcztcclxuICAgICAgICB0aGlzLm9uX2xvYWRfZmluaXNoZWQgPSBvbl9sb2FkX2ZpbmlzaGVkO1xyXG5cclxuICAgICAgICB0aGlzLnRvdGFsX251bSA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gcmVzX3BrZykge1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsX251bSArPSByZXNfcGtnW2tleV0ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub3dfbnVtID0gMDtcclxuICAgICAgICBpZiAocmVzX3BrZy5wcmVmYWJzKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNfcGtnLnByZWZhYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVybCA9IHJlc19wa2cucHJlZmFic1tpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZF9wcmVmYWIodXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc19wa2cuc2NlbmUzRCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzX3BrZy5zY2VuZTNELmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSByZXNfcGtnLnNjZW5lM0RbaV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRfc2NlbmUzRCh1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzX3BrZy5zcHJpdGUzRCkge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzX3BrZy5zcHJpdGUzRC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdXJsID0gcmVzX3BrZy5zcHJpdGUzRFtpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZF9zcHJpdGUzRCh1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOmHiuaUvlxyXG4gICAgcmVsb2FzZV9yZXNfcGtnKHJlc19wa2cpIHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgbGV0IHVybCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGlmIChyZXNfcGtnLnByZWZhYnMpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlc19wa2cucHJlZmFicy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdXJsID0gcmVzX3BrZy5wcmVmYWJzW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlX3ByZWZhYih1cmwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmVzX3BrZy5zY2VuZTNEKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNfcGtnLnNjZW5lM0QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVybCA9IHJlc19wa2cuc2NlbmUzRFtpXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZV9zY2VuZTNEKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZXNfcGtnLnNwcml0ZTNEKSB7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNfcGtnLnNwcml0ZTNELmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgPSByZXNfcGtnLnNwcml0ZTNEW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlX3Nwcml0ZTNEKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX29uZV9yZXNfbG9hZF9maW5pc2hlZCgpIHtcclxuICAgICAgICB0aGlzLm5vd19udW0rKztcclxuICAgICAgICBpZiAodGhpcy5vbl9wcm9ncmVzcykge1xyXG4gICAgICAgICAgICB0aGlzLm9uX3Byb2dyZXNzKHRoaXMubm93X251bSAvIHRoaXMudG90YWxfbnVtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm5vd19udW0gPj0gdGhpcy50b3RhbF9udW0gJiYgdGhpcy5vbl9sb2FkX2ZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25fbG9hZF9maW5pc2hlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2FkX3ByZWZhYih1cmwpIHtcclxuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHVybCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICB2YXIgcHJlZmFiID0gbmV3IExheWEuUHJlZmFiKCk7XHJcbiAgICAgICAgICAgIHByZWZhYi5qc29uID0ganNvbjtcclxuICAgICAgICAgICAgdGhpcy5wcmVmYWJzX3Jlc1t1cmxdID0gcHJlZmFiO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fb25lX3Jlc19sb2FkX2ZpbmlzaGVkKCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbGVhc2VfcHJlZmFiKHVybCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcmVmYWJzX3Jlc1t1cmxdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJlZmFic19yZXNbdXJsXS5qc29uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByZWZhYnNfcmVzW3VybF0gPSBudWxsO1xyXG4gICAgICAgIExheWEubG9hZGVyLmNsZWFyUmVzKHVybCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGxvYWRfc2NlbmUzRCh1cmwpIHtcclxuICAgICAgICBMYXlhLlNjZW5lM0QubG9hZCh1cmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgZnVuY3Rpb24gKHNjZW5lM2QpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZTNEX3Jlc1t1cmxdID0gc2NlbmUzZDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX29uZV9yZXNfbG9hZF9maW5pc2hlZCgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZWxlYXNlX3NjZW5lM0QodXJsKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lM0RfcmVzW3VybF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZTNEX3Jlc1t1cmxdID0gbnVsbDtcclxuICAgICAgICBMYXlhLmxvYWRlci5jbGVhclJlcyh1cmwpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsb2FkX3Nwcml0ZTNEKHVybCkge1xyXG4gICAgICAgIExheWEuU3ByaXRlM0QubG9hZCh1cmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgZnVuY3Rpb24gKHNwcml0ZTNkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlM0RfcmVzW3VybF0gPSBzcHJpdGUzZDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX29uZV9yZXNfbG9hZF9maW5pc2hlZCgpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIHJlbGVhc2Vfc3ByaXRlM0QodXJsKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZTNEX3Jlc1t1cmxdKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlM0RfcmVzW3VybF0gPSBudWxsO1xyXG4gICAgICAgIExheWEubG9hZGVyLmNsZWFyUmVzKHVybCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0X3ByZWZhYl9yZXModXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZmFic19yZXNbdXJsXTtcclxuICAgIH1cclxuICAgIGdldF9zY2VuczNkX3Jlcyh1cmwpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZTNEX3Jlc1t1cmxdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldF9zcHJpdGUzRF9yZXModXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlM0RfcmVzW3VybF07XHJcbiAgICB9XHJcbiAgICBvbkVuYWJsZSgpIHtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKSB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgcmVzX21nciBmcm9tIFwiLi4vbWFuYWdlcnMvcmVzX21nclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mgc2NlbmVfbWdyIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZV9kaXIgPSBcInJlcy9MYXlhU2NlbmVfZ2FtZV9zY2VuZS9Db252ZW50aW9uYWwvXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGluc3RhbmNlKCkge1xyXG4gICAgICAgIHJldHVybiBzY2VuZV9tZ3IuSW5zdGFuY2U7XHJcbiAgICB9XHJcbiAgICBvbkF3YWtlKCkge1xyXG4gICAgICAgIHNjZW5lX21nci5JbnN0YW5jZSA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb25TdGFydCgpIHtcclxuXHJcbiAgICB9XHJcbiAgICAvKirliJvlu7rkuIDkuKrlnLrmma/nmoTmtYHnqItcclxuICAgICAqIDEu5Yqg6L295Zy65pmv6LWE5rqQXHJcbiAgICAgKiAyLui1hOa6kOWKoOi9veWujOaIkOWQjuWIm+W7uuWcuuaZr1xyXG4gICAgICogMy7lr7nliJvlu7rlkI7nmoTlnLrmma/lgZrkuKrmgKfljJblpITnkIZcclxuICAgICAqIDQu5bCG5Zy65pmv5Yqg5YWl6Iie5Y+wXHJcbiAgICAgKi9cclxuICAgIGxvYWRfc2NlbmVfcmVzKHNjZW5lX25hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmVzX21nci5pbnN0YW5jZSgpLnByZWxvYWRfcmVzX3BrZyh7XHJcbiAgICAgICAgICAgIHByZWZhYnM6IFtcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgc2NlbmUzRDogW1xyXG4gICAgICAgICAgICAgICAgXCJyZXMvTGF5YVNjZW5lX2dhbWVfc2NlbmUvQ29udmVudGlvbmFsL1wiK3NjZW5lX25hbWUrXCIubHNcIixcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LCBudWxsLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlX3NjZW5lKHNjZW5lX25hbWUpIHtcclxuICAgICAgICBpZih0aGlzLmN1cnJfc2NlbmUpe1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJfc2NlbmUgPSBudWxsO1xyXG4gICAgICAgICAgICAvLyDov5nph4zopoHljbjovb3ogIHnmoTlnLrmma9cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzY2VuZTNkID0gcmVzX21nci5pbnN0YW5jZSgpLmdldF9zY2VuczNkX3JlcyhcInJlcy9MYXlhU2NlbmVfZ2FtZV9zY2VuZS9Db252ZW50aW9uYWwvXCIrc2NlbmVfbmFtZStcIi5sc1wiKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHNjZW5lM2QpO1xyXG4gICAgICAgIHNjZW5lM2Quek9yZGVyID0gLTE7XHJcbiAgICAgICAgdGhpcy5jdXJyX3NjZW5lID0gc2NlbmUzZDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNjZW5lM2Q7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVSV9CdXR0b24gZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICAvKiogQHByb3Age25hbWU6bm9ybWFsX2ltZywgdGlwczpcIuaMiemSruW8uei1t+eKtuaAgVwiLCBhY2NlcHQ6cmVzLCBkZWZhdWx0Om51bGx9Ki9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpwcmVzc19pbWcsIHRpcHM6XCLmjInpkq7mjInkuIvnirbmgIFcIiwgYWNjZXB0OnJlcywgZGVmYXVsdDpudWxsfSovXHJcbiAgICAvKiogQHByb3Age25hbWU6ZGlzYWJsZV9pbWcsIHRpcHM6XCLmjInpkq7npoHnlKjnirbmgIFcIiwgYWNjZXB0OnJlcywgZGVmYXVsdDpudWxsfSovXHJcbiAgICAvKiogQHByb3Age25hbWU6aXNfZGlzYWJsZSwgdGlwczpcIuaYr+WQpuiiq+emgeeUqFwiLCB0eXBlOkJvb2wsIGRlZmF1bHQ6ZmFsc2V9Ki9cclxuXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm5vcm1hbF9pbWcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucHJlc3NfaW1nID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRpc2FibGVfaW1nID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy5zZXRfZGlzYWJsZSh0aGlzLmlzX2Rpc2FibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCkge1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpIHtcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlRG93bigpIHtcclxuICAgICAgICBpZih0aGlzLmlzX2Rpc2FibGUpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnByZXNzX2ltZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnNraW4gPSB0aGlzLnByZXNzX2ltZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Nb3VzZVVwKCkge1xyXG4gICAgICAgIGlmKHRoaXMuaXNfZGlzYWJsZSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubm9ybWFsX2ltZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnNraW4gPSB0aGlzLm5vcm1hbF9pbWc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldF9kaXNhYmxlKGlzX2Rpc2FibGUpIHtcclxuICAgICAgICBpZiAodGhpcy5pc19kaXNhYmxlID09IGlzX2Rpc2FibGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc19kaXNhYmxlID0gaXNfZGlzYWJsZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNfZGlzYWJsZSAmJiB0aGlzLmRpc2FibGVfaW1nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIuc2tpbiA9IHRoaXMuZGlzYWJsZV9pbWc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubm9ybWFsX2ltZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lci5za2luID0gdGhpcy5ub3JtYWxfaW1nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il19
